
(function(){'use strict';function SubMenuServices(root){function closeAll(subEl){var foundSubEl=subEl?subEl:root,openedEl=foundSubEl.querySelectorAll('.is--opened');[].forEach.call(openedEl,function(currentOpenedEl){var iconOpenerEl=currentOpenedEl.querySelector('.js-opener__icon');currentOpenedEl.classList.remove('is--opened');if(iconOpenerEl){iconOpenerEl.classList.remove('icon--minus-menu');iconOpenerEl.classList.add('icon--plus-menu');}});[].forEach.call(foundSubEl.querySelectorAll('.js-services-sublist'),function(currentSubMenu){currentSubMenu.classList.add('hide');});}
function openList(openerEl){if(openerEl){var iconOpenerEl=openerEl.querySelector('.js-opener__icon'),currentEl=document.getElementById(openerEl.getAttribute('data-target'));if(currentEl){var closestListEl=KosmosUtils.closest(openerEl,function filterByClassName(currentOpenerEl){return currentOpenerEl&&currentOpenerEl.classList&&currentOpenerEl.classList.contains('js-services-sublist');});if(currentEl.classList.contains('hide')){closeAll(closestListEl);currentEl.classList.remove('hide');openerEl.classList.add('is--opened');openerEl.setAttribute('aria-expanded','true');if(iconOpenerEl){iconOpenerEl.classList.remove('icon--plus-menu');iconOpenerEl.classList.add('icon--minus-menu');}}else{currentEl.classList.add('hide');openerEl.setAttribute('aria-expanded','false');closeAll(closestListEl);if(iconOpenerEl){iconOpenerEl.classList.remove('icon--minus-menu');iconOpenerEl.classList.add('icon--plus-menu');}}}}}
function init(){[].forEach.call(root.querySelectorAll('.js-opener'),function(currentTriggerEl){currentTriggerEl.addEventListener('click',function(e){e.preventDefault();openList(currentTriggerEl);});});}
init();}
function MenuServices(){var menuTriggerEl=document.querySelector('.js-burger'),menuEl=document.querySelector('.js-menu'),contents=document.querySelectorAll('.js-content'),windowResizeTimeout;function isOpen(){return!menuEl.classList.contains('hide');}
function toggleMenu(){KDecoleUtils.createUserSessionCookie('menuServicesOuvert',!isOpen());menuEl.classList.toggle('hide');[].forEach.call(contents,function(content){content.classList.toggle('menu-is-opened');});menuTriggerEl.classList.toggle('burger--closed');menuTriggerEl.setAttribute('aria-expanded',isOpen());const eventType=isOpen()?'burger-menu:collapsed':'burger-menu:expanded';KosmosUtils.dispatchEvent(menuEl,eventType);KosmosUtils.dispatchEvent(menuEl,'burger-menu:change',{open:isOpen()});}
function updateState(){if(window.matchMedia('(min-width: 992px)').matches){if(!isOpen()){toggleMenu();}}else if(isOpen()){toggleMenu();}}
function bindComponents(){menuTriggerEl.addEventListener('click',function(e){e.preventDefault();toggleMenu();});window.addEventListener('resize',function(){clearTimeout(windowResizeTimeout);windowResizeTimeout=setTimeout(updateState,100);});}
function init(){if(window.matchMedia('(min-width: 992px)').matches){}else if(isOpen()){toggleMenu();}
bindComponents();SubMenuServices(menuEl);}
init();}
MenuServices();})();;